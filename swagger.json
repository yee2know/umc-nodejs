{
  "openapi": "3.0.0",
  "info": {
    "title": "UMC 7th",
    "version": "1.0.0",
    "description": "UMC 7th Node.js 테스트 프로젝트입니다."
  },
  "servers": [{ "url": "http://localhost:3000" }],
  "paths": {
    "/missions": {
      "post": {
        "summary": "미션 추가 API",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "store_id": { "type": "number" },
                  "d_day": { "type": "number" },
                  "goal_money": { "type": "number" },
                  "reward": { "type": "number" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "미션 추가 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "number" },
                        "store_id": { "type": "number" },
                        "d_day": { "type": "number" },
                        "goal_money": { "type": "number" },
                        "reward": { "type": "number" },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": { "type": "string", "format": "date-time" }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "이미 미션을 추가한 상점일 경우",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "FAIL" },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": { "type": "string", "example": "S002" },
                        "reason": {
                          "type": "string",
                          "example": "미션 추가에 실패했습니다."
                        },
                        "data": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "store_id": { "type": "number", "example": 1 },
                            "d_day": { "type": "number", "example": 3 },
                            "goal_money": {
                              "type": "number",
                              "example": 100000
                            },
                            "reward": { "type": "number", "example": 10000 }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/missions/challenge": {
      "post": {
        "summary": "미션 도전 API",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": { "type": "number" },
                  "mission_id": { "type": "number" },
                  "status": { "type": "string", "enum": ["PENDING"] }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "미션 도전 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "number" },
                        "user_id": { "type": "number" },
                        "mission_id": { "type": "number" },
                        "status": {
                          "type": "string",
                          "enum": ["PENDING", "SUCCESS", "FAIL"]
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": { "type": "string", "format": "date-time" }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "미션 도전 실패 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "FAIL" },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": { "type": "string", "example": "M001" },
                        "reason": {
                          "type": "string",
                          "example": "이미 도전/실패한 미션입니다."
                        },
                        "data": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "user_id": { "type": "number", "example": 1 },
                            "mission_id": { "type": "number", "example": 1 },
                            "status": {
                              "type": "string",
                              "enum": ["PENDING", "SUCCESS", "FAIL"]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/missions/{missionId}": {
      "patch": {
        "summary": "미션 진행 상태 변경 API",
        "parameters": [
          {
            "in": "path",
            "name": "missionId",
            "required": true,
            "schema": { "type": "number" },
            "description": "상태를 변경할 미션 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": ["IN_PROGRESS", "COMPLETED"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "미션 진행 상태 변경 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "missionProgress": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "number" },
                            "missionId": { "type": "number" },
                            "userId": { "type": "number" },
                            "status": {
                              "type": "string",
                              "enum": ["PENDING", "SUCCESS", "FAIL"]
                            },
                            "createdAt": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "updatedAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "missionId에 해당하는 미션이 존재하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "FAIL" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "errorCode": { "type": "string", "example": "M002" },
                        "reason": {
                          "type": "string",
                          "example": "미션이 존재하지 않습니다."
                        },
                        "data": {
                          "type": "object",
                          "nullable": true,
                          "example": null
                        }
                      }
                    },
                    "success": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/reviews": {
      "post": {
        "summary": "리뷰 작성 API",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": { "type": "number" },
                  "store_id": { "type": "number" },
                  "body": { "type": "string" },
                  "review_star": { "type": "number" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "리뷰 작성 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "number" },
                        "user_id": { "type": "number" },
                        "store_id": { "type": "number" },
                        "body": { "type": "string" },
                        "review_star": { "type": "number" },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": { "type": "string", "format": "date-time" }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/regions/{regionId}/stores": {
      "post": {
        "summary": "상점 추가 API",
        "parameters": [
          {
            "in": "path",
            "name": "regionId",
            "required": true,
            "schema": { "type": "number" },
            "description": "지역 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "storeTypeId": { "type": "number" },
                  "location": { "type": "string" },
                  "is_opened": { "type": "boolean" },
                  "star": { "type": "number" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "상점 추가 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "store": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "number" },
                            "storeTypeId": { "type": "number" },
                            "regionId": { "type": "number" },
                            "name": { "type": "string" },
                            "location": { "type": "string" },
                            "is_opened": { "type": "boolean" },
                            "star": { "type": "number" },
                            "createdAt": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "updatedAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "상점 이름 중복 오류",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "FAIL" },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": { "type": "string", "example": "S001" },
                        "reason": {
                          "type": "string",
                          "example": "이미 존재하는 상점 이름입니다."
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string",
                              "example": "스타벅스 홍대점"
                            },
                            "storeTypeId": { "type": "number", "example": 1 },
                            "location": {
                              "type": "string",
                              "example": "서울시 마포구"
                            },
                            "is_opened": { "type": "boolean", "example": true },
                            "star": { "type": "number", "example": 4.5 }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/stores/{storeId}/reviews": {
      "get": {
        "summary": "상점 리뷰 목록 조회 API",
        "parameters": [
          {
            "in": "path",
            "name": "storeId",
            "required": true,
            "schema": { "type": "number" },
            "description": "상점 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "상점 리뷰 목록 조회 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "number" },
                              "store": {
                                "type": "object",
                                "properties": {
                                  "id": { "type": "number" },
                                  "name": { "type": "string" }
                                }
                              },
                              "user": {
                                "type": "object",
                                "properties": {
                                  "id": { "type": "number" },
                                  "email": { "type": "string" },
                                  "name": { "type": "string" }
                                }
                              },
                              "content": { "type": "string" }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "cursor": { "type": "number", "nullable": true }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/stores/{storeId}/missions": {
      "get": {
        "summary": "상점 미션 목록 조회 API",
        "parameters": [
          {
            "in": "path",
            "name": "storeId",
            "required": true,
            "schema": { "type": "number" },
            "description": "상점 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "상점 미션 목록 조회 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "number" },
                              "storeId": { "type": "number" },
                              "userId": { "type": "number" },
                              "content": { "type": "string" }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "cursor": { "type": "number", "nullable": true }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "post": {
        "summary": "회원 가입 API",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string" },
                  "name": { "type": "string" },
                  "gender": { "type": "string" },
                  "birth": { "type": "string", "format": "date" },
                  "address": { "type": "string" },
                  "detailAddress": { "type": "string" },
                  "phoneNumber": { "type": "string" },
                  "preferences": {
                    "type": "array",
                    "items": { "type": "number" }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "회원 가입 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "email": { "type": "string" },
                        "name": { "type": "string" },
                        "preferCategory": {
                          "type": "array",
                          "items": { "type": "string" }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "회원 가입 실패 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "FAIL" },
                    "error": {
                      "type": "object",
                      "properties": {
                        "errorCode": { "type": "string", "example": "U001" },
                        "reason": { "type": "string" },
                        "data": { "type": "object" }
                      }
                    },
                    "success": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/reviews": {
      "get": {
        "summary": "특정 유저 리뷰 확인",
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "description": "유저 ID",
            "schema": { "type": "number" }
          }
        ],
        "responses": {
          "200": {
            "description": "특정 유저 리뷰 확인 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "number" },
                              "storeId": { "type": "number" },
                              "userId": { "type": "number" },
                              "content": { "type": "string" }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "cursor": { "type": "number", "nullable": true }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/{userId}/missions": {
      "get": {
        "summary": "특정 유저 미션 확인",
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "description": "유저 ID",
            "schema": { "type": "number" }
          }
        ],
        "responses": {
          "200": {
            "description": "특정 유저 미션 확인 성공 응답",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "resultType": { "type": "string", "example": "SUCCESS" },
                    "error": {
                      "type": "object",
                      "nullable": true,
                      "example": null
                    },
                    "success": {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "number" },
                              "storeId": { "type": "number" },
                              "userId": { "type": "number" },
                              "status": { "type": "string" }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "cursor": { "type": "number", "nullable": true }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {},
  "tags": []
}
